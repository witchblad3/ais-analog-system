<style>
    /* Ограничиваем высоту списка и включаем вертикальный скролл */
    .ui-autocomplete {
        max-height: 200px;        /* высота меню в пикселях */
        overflow-y: auto;         /* вертикальный скролл */
        overflow-x: hidden;       /* запрещаем горизонтальный скролл */
        z-index: 1000;            /* чтобы меню было наверху */
    }
    /* Убираем дефолтную прокрутку, чтобы не появлялся двойной скроллбар */
    .ui-autocomplete li {
        white-space: nowrap;
    }
</style>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Поиск аналогов</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <link href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" rel="stylesheet">
</head>
<body class="flex items-center justify-center h-screen bg-gray-100">

<form action="{{ route('product.results') }}" method="POST" class="bg-white p-8 rounded shadow-md w-full max-w-md">
    @csrf
    <h1 class="text-2xl font-bold mb-4">Найдите аналог</h1>
    <input
        type="text" name="name" id="search"
        placeholder="Начните ввод..."
        class="w-full border rounded px-3 py-2"
        autocomplete="off"
        required
    >
    <button type="submit"
            class="mt-4 w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
        Искать
    </button>
</form>

<script>
    $(function(){
        $("#search").autocomplete({
            source: function(request, response) {
                $.getJSON("{{ route('product.suggestions') }}", { term: request.term }, response);
            },
            minLength: 2,
            delay: 300
        });
    });
</script>
</body>
</html>
